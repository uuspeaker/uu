<template name="scoreDetailTemplate">
  <view class="weui-cell">
    <view class="weui-cell__hd">
      <image src="{{icon}}" style="margin-right: 5px;vertical-align: middle;width:20px; height: 20px;"></image>
    </view>
    <view class="weui-cell__bd">{{user_id}}</view>
    <view class="weui-cell__ft">{{total_score}}</view>
  </view>
</template>

<view class="page">
  <view class="page__bd">
    <view class="weui-tab">
      <view class="weui-navbar">
        <block wx:for="{{tabs}}" wx:key="*this">
          <view id="{{index}}" class="weui-navbar__item {{activeIndex == index ? 'weui-bar__item_on' : ''}}" bindtap="tabClick">
            <view class="weui-navbar__title">{{item}}</view>
          </view>
        </block>
        <view class="weui-navbar__slider" style="left: {{sliderLeft}}px; transform: translateX({{sliderOffset}}px); -webkit-transform: translateX({{sliderOffset}}px);"></view>
      </view>
      <view class="weui-tab__panel">
        <!--tab1 登记积分-->
        <view class="weui-tab__content" hidden="{{activeIndex != 0}}">
          <view>
            <form bindsubmit="studyScore">
              <view class="weui-cells weui-cells_after-title">
                <view class="weui-cell weui-cell_select">
                  <view class="weui-cell__hd weui-cell__hd_in-select-after">
                    <view class="weui-label">日期：</view>
                  </view>
                  <view class="weui-cell__bd">
                    <picker name="meetingDate" bindchange="bindDateChange" value="{{dateIndex}}" range="{{dateArray}}">
                      <view class="weui-select weui-select_in-select-after">{{dateArray[dateIndex]}}</view>
                    </picker>
                  </view>
                </view>

                <view class="weui-cell weui-cell_select">
                  <view class="weui-cell__hd weui-cell__hd_in-select-after">
                    <view class="weui-label">时间：</view>
                  </view>
                  <view class="weui-cell__bd">
                    <picker name="meetingTime" bindchange="bindTimeChange" value="{{timeIndex}}" range="{{timeArray}}">
                      <view class="weui-select weui-select_in-select-after">{{timeArray[timeIndex]}}</view>
                    </picker>
                  </view>
                </view>
              </view>

              <view class="weui-cells weui-cells_after-title">
                <view class="weui-cell weui-cell_switch">
                  <view class="weui-cell__bd">已参会</view>
                  <view class="weui-cell__ft">
                    <switch name="isJoinMeeting" />
                  </view>
                </view>

                <view class="weui-cell weui-cell_switch">
                  <view class="weui-cell__bd">最佳演讲</view>
                  <view class="weui-cell__ft">
                    <switch name="isSpeaker" />
                  </view>
                </view>

                <view class="weui-cell weui-cell_switch">
                  <view class="weui-cell__bd">最佳点评</view>
                  <view class="weui-cell__ft">
                    <switch name="isEvaluator" />
                  </view>
                </view>

                <view class="weui-cell weui-cell_switch">
                  <view class="weui-cell__bd">主持人</view>
                  <view class="weui-cell__ft">
                    <switch name="isHost" />
                  </view>
                </view>

                <view class="weui-cell weui-cell_switch">
                  <view class="weui-cell__bd">已复盘</view>
                  <view class="weui-cell__ft">
                    <switch name="isReport" />
                  </view>
                </view>
              </view>
              <button class="weui-btn" type="primary" data-action='post' formType="submit">保存</button>
            </form>
          </view>
        </view>
        <!--tab2 复盘-->
        <view class="weui-tab__content" hidden="{{activeIndex != 1}}">
          <form bindsubmit="studyReport">
              <view class="weui-cells weui-cells_after-title">
                <view class="weui-cell weui-cell_select">
                  <view class="weui-cell__hd weui-cell__hd_in-select-after">
                    <view class="weui-label">日期：</view>
                  </view>
                  <view class="weui-cell__bd">
                   <input name="studyDate" type="number" class="weui-input" placeholder="格式（20180101）" />
                  </view>
                </view>

              
              </view>

        <view class="weui-cells weui-cells_after-title">
            <view class="weui-cell">
                <view class="weui-cell__bd">
                    <textarea name="studyReport" placeholder-class="textarea" class="weui-textarea" placeholder="请输入复盘（暂不支持表情等特殊符号）。推荐格式：1、做得好的；2、需要改进的；3、我从别人身上学到的；4、其他感受" style="height: 20em" maxlength='2000'/>
                    <view class="weui-textarea-counter">0/2000</view>
                </view>
            </view>
        </view>
              <button class="weui-btn" type="primary" data-action='post' formType="submit">保存</button>
            </form>
        </view>
        <!--tab3 登记学习时长-->
        <view class="weui-tab__content" hidden="{{activeIndex != 2}}">
         
            <form bindsubmit="studyDuration">
              <view class="weui-cells weui-cells_after-title">
                <view class="weui-cell weui-cell_select">
                  <view class="weui-cell__hd weui-cell__hd_in-select-after">
                    <view class="weui-label">日期：</view>
                  </view>
                  <view class="weui-cell__bd">
                    <picker name="studyDate" bindchange="bindDateChange" value="{{dateIndex}}" range="{{dateArray}}">
                      <view class="weui-select weui-select_in-select-after">{{dateArray[dateIndex]}}</view>
                    </picker>
                  </view>
                </view>


                <view class="weui-cells weui-cells_after-title">
                  <view class="weui-cell weui-cell_input">
                    <view class="weui-cell__hd">
                      <view class="weui-label">学习时长</view>
                    </view>
                    <view class="weui-cell__bd">
                      <input name="studyDuration" type="number" class="weui-input" placeholder="请输入学习时长（分钟）" />
                    </view>
                  </view>
                </view>
              </view>
              <button class="weui-btn" type="primary" data-action='post' formType="submit">保存</button>
            </form>
          
        </view>

      </view>
    </view>
  </view>
</view>